# -*- Makefile -*-
CC=clang++ -std=c++11
MADVISE_DEFS=-DMADV_FREE_PRESENT -DMADVISE#_ASYNC
DEBUG_DEFS=-DNO_ASSERTS -DINITIAL_DEBUG_LEVEL=DEBUG -DNO_LOGGING #-DSUPRESS_STDOUT
DEFINES=-DP4HT -DHOT_SPACE_SIZE=1000 -DPAGE_POOL_SIZE=32768 ${MADVISE_DEFS} ${DEBUG_DEFS} #-DDETECT_OVERFLOWS
OPTIMIZATIONS=-O3 -fomit-frame-pointer -ffast-math
DEBUG=-g -fno-inline-functions
I686=  # -march=pentium4
X86_64= -fPIC -m64 # -march=nocona 
CCFLAGS=-Wall -pipe -shared ${I686} ${DEFINES} ${OPTIMIZATIONS} 
HEAPLAYERS=${BASEDIR}/../Heap-Layers
DLMALLOC=${BASEDIR}/dlmalloc272
OPPALLOC=${BASEDIR}/allocator
UTIL=${BASEDIR}/util
INCLUDEALL=-I${BASEDIR} -I${UTIL} -I${HEAPLAYERS}  -I${DLMALLOC} -I${OPPALLOC}
