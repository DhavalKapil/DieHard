# -*- Makefile -*-
CC=g++
MADVISE_DEFS=-DMADV_FREE_PRESENT -DMADVISE#_ASYNC
DEBUG_DEFS=-DNO_ASSERTS -DINITIAL_DEBUG_LEVEL=DEBUG -DNO_LOGGING #-DSUPRESS_STDOUT
DEFINES=-DP4HT -DHOT_SPACE_SIZE=1000 -DPAGE_POOL_SIZE=32768 ${MADVISE_DEFS} ${DEBUG_DEFS} #-DDETECT_OVERFLOWS
OPTIMIZATIONS=-finline-functions -O3 -fomit-frame-pointer -ffast-math
DEBUG=-g -fno-inline-functions
I686=-march=pentium4
X86_64=-fPIC -march=nocona -m64 
CCFLAGS=-Wall -pipe -shared ${I686} ${DEFINES} ${OPTIMIZATIONS} 
HEAPLAYERS=${BASEDIR}/heaplayers
DLMALLOC=${BASEDIR}/dlmalloc272
OPPALLOC=${BASEDIR}/allocator
UTIL=${BASEDIR}/util
INCLUDEALL=-I${BASEDIR} -I${UTIL} -I${HEAPLAYERS} -I${HEAPLAYERS}/util -I${DLMALLOC} -I${OPPALLOC}
